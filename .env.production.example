# FO3 Wallet Core Production Environment Configuration
# 
# IMPORTANT: This is a template file for production deployment.
# Copy this file to .env.production and update all values with secure production credentials.
# Never commit production secrets to version control.

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Logging Configuration
RUST_LOG=info
LOG_LEVEL=info

# Server Configuration
GRPC_LISTEN_ADDR=0.0.0.0:50051
WEBSOCKET_LISTEN_ADDR=0.0.0.0:8080
METRICS_LISTEN_ADDR=0.0.0.0:9090

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# TLS/SSL Configuration (REQUIRED for production)
ENABLE_TLS=true
TLS_CERT_PATH=/app/certs/server.crt
TLS_KEY_PATH=/app/certs/server.key
TLS_CA_CERT_PATH=/app/certs/ca.crt
CERT_DIR=/app/certs

# Authentication and Encryption (CHANGE THESE VALUES)
JWT_SECRET=CHANGE_ME_TO_SECURE_64_CHAR_SECRET_FOR_JWT_SIGNING_IN_PRODUCTION
ENCRYPTION_KEY=CHANGE_ME_TO_SECURE_32_BYTE_ENCRYPTION_KEY_FOR_PRODUCTION

# KYC Document Encryption (CHANGE THIS VALUE)
KYC_ENCRYPTION_KEY=CHANGE_ME_TO_BASE64_ENCODED_32_BYTE_KEY_FOR_KYC_DOCUMENTS

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration (CHANGE PASSWORD)
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_POSTGRES_PASSWORD_FOR_PRODUCTION
DATABASE_URL=postgresql://fo3_user:CHANGE_ME_TO_SECURE_POSTGRES_PASSWORD_FOR_PRODUCTION@postgres:5432/fo3_wallet

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Configuration (CHANGE PASSWORD)
REDIS_PASSWORD=CHANGE_ME_TO_SECURE_REDIS_PASSWORD_FOR_PRODUCTION
REDIS_URL=redis://:CHANGE_ME_TO_SECURE_REDIS_PASSWORD_FOR_PRODUCTION@redis:6379

# =============================================================================
# BLOCKCHAIN RPC CONFIGURATION
# =============================================================================

# Ethereum Configuration (REQUIRED)
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID
ETHEREUM_API_KEY=YOUR_INFURA_API_KEY

# Ethereum Testnet (Optional for testing)
ETHEREUM_TESTNET_RPC_URL=https://goerli.infura.io/v3/YOUR_INFURA_PROJECT_ID

# Polygon Configuration (Optional)
POLYGON_RPC_URL=https://polygon-mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID
POLYGON_API_KEY=YOUR_INFURA_API_KEY

# BSC Configuration (Optional)
BSC_RPC_URL=https://bsc-dataseed1.binance.org/
BSC_API_KEY=

# Arbitrum Configuration (Optional)
ARBITRUM_RPC_URL=https://arbitrum-mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID
ARBITRUM_API_KEY=YOUR_INFURA_API_KEY

# Optimism Configuration (Optional)
OPTIMISM_RPC_URL=https://optimism-mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID
OPTIMISM_API_KEY=YOUR_INFURA_API_KEY

# Solana Configuration (REQUIRED)
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_API_KEY=

# Solana Devnet (Optional for testing)
SOLANA_DEVNET_RPC_URL=https://api.devnet.solana.com

# Bitcoin Configuration (Optional)
BITCOIN_RPC_URL=https://blockstream.info/api
BITCOIN_API_KEY=

# Bitcoin Testnet (Optional for testing)
BITCOIN_TESTNET_RPC_URL=https://blockstream.info/testnet/api

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Grafana Configuration (CHANGE PASSWORD)
GRAFANA_PASSWORD=CHANGE_ME_TO_SECURE_GRAFANA_ADMIN_PASSWORD

# Jaeger Tracing
JAEGER_ENDPOINT=http://jaeger:14268/api/traces
TRACE_SAMPLING_RATIO=0.1

# Prometheus Metrics
PROMETHEUS_ENABLED=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Blockchain Support
ENABLE_SOLANA=true
ENABLE_BITCOIN=true
ENABLE_ETHEREUM=true

# Monitoring Features
ENABLE_METRICS=true
ENABLE_TRACING=true

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Security Settings (DO NOT CHANGE for production)
DEBUG_MODE=false
ENABLE_CORS=false
ALLOW_INSECURE_CONNECTIONS=false

# Rate Limiting Configuration
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# KYC Configuration
KYC_STORAGE_PATH=/app/data/kyc_documents
KYC_MAX_FILE_SIZE=10485760

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Email Service (for notifications)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=noreply@fo3wallet.com
SMTP_PASSWORD=CHANGE_ME_TO_SMTP_PASSWORD
SMTP_FROM_EMAIL=noreply@fo3wallet.com

# SMS Service (for 2FA)
TWILIO_ACCOUNT_SID=YOUR_TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=YOUR_TWILIO_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1234567890

# Push Notification Service
FCM_SERVER_KEY=YOUR_FIREBASE_CLOUD_MESSAGING_SERVER_KEY
APNS_KEY_ID=YOUR_APPLE_PUSH_NOTIFICATION_KEY_ID
APNS_TEAM_ID=YOUR_APPLE_TEAM_ID
APNS_BUNDLE_ID=com.fo3wallet.app

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=fo3-wallet-backups
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ACCESS_KEY=YOUR_S3_ACCESS_KEY
BACKUP_S3_SECRET_KEY=YOUR_S3_SECRET_KEY

# =============================================================================
# COMPLIANCE AND AUDIT
# =============================================================================

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_LEVEL=info
AUDIT_LOG_RETENTION_DAYS=365

# Compliance Settings
COMPLIANCE_MODE=strict
AML_SCREENING_ENABLED=true
KYC_VERIFICATION_REQUIRED=true

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Database Connection Pool
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=5
DB_CONNECTION_TIMEOUT=30

# Redis Connection Pool
REDIS_MAX_CONNECTIONS=10
REDIS_MIN_CONNECTIONS=2
REDIS_CONNECTION_TIMEOUT=5

# gRPC Configuration
GRPC_MAX_CONCURRENT_STREAMS=1000
GRPC_KEEPALIVE_TIME=30
GRPC_KEEPALIVE_TIMEOUT=5

# =============================================================================
# DEPLOYMENT METADATA
# =============================================================================

# Deployment Information
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_VERSION=3.0.0
DEPLOYMENT_BUILD_NUMBER=
DEPLOYMENT_COMMIT_SHA=
DEPLOYMENT_TIMESTAMP=

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# NOTES FOR PRODUCTION DEPLOYMENT
# =============================================================================

# 1. SSL/TLS Certificates:
#    - Generate production SSL certificates and place them in ./certs/
#    - Ensure certificates are valid and not self-signed
#    - Set up certificate renewal automation

# 2. Database Security:
#    - Use strong, unique passwords for all database accounts
#    - Enable SSL connections to PostgreSQL
#    - Configure database firewall rules

# 3. Network Security:
#    - Configure firewall rules to restrict access
#    - Use VPN or private networks for internal communication
#    - Enable DDoS protection

# 4. Monitoring:
#    - Set up alerting for critical metrics
#    - Configure log aggregation and analysis
#    - Monitor resource usage and performance

# 5. Backup Strategy:
#    - Test backup and restore procedures regularly
#    - Store backups in multiple locations
#    - Encrypt backup data

# 6. Compliance:
#    - Ensure all regulatory requirements are met
#    - Implement proper audit logging
#    - Regular security assessments

# 7. Scaling:
#    - Configure load balancing for high availability
#    - Set up auto-scaling based on demand
#    - Monitor and optimize resource usage
